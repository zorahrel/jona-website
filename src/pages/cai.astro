---
import Layout from '../layouts/Layout.astro';
---

<Layout title="CAI - Continuum AI - Design for the Continuum" activePage="cai">
  <!-- Gradient Background -->
  <div class="cai-gradient-bg fixed inset-0 -z-10 pointer-events-none"></div>

  <!-- Freud Quote Section -->
  <section class="px-6 lg:px-24 py-12 lg:py-20">
    <div class="max-w-[1100px]">
      <h1 class="font-black text-3xl lg:text-[50px] leading-[1.15] mb-6">
        Our present ego-feeling is, therefore,<br/>
        only a shrunken residue of a much more<br/>
        inclusive—indeed, an<br/>
        all-embracing—feeling which<br/>
        corresponded to a more intimate bond<br/>
        between the ego and the world about it.
      </h1>
      <p class="text-sm lg:text-base font-semibold">
        [1929 book <em>Civilization and Its Discontents</em>, Sigmund Freud]
      </p>
    </div>
  </section>

  <!-- Continuum Definition -->
  <section class="px-6 lg:px-24 py-8 lg:py-12">
    <div class="max-w-[1000px] lg:ml-[200px]">
      <p class="text-xl lg:text-[32px] leading-[1.2] font-semibold">
        continuum = the spatio-temporal field where bodily 
        development, socio-spiritual kinship, ecological 
        interdependence, and political responsibility co-emerge.
      </p>
    </div>
  </section>

  <!-- When and How Section -->
  <section class="px-6 lg:px-24 py-12 lg:py-16">
    <h2 class="font-black text-3xl lg:text-[50px] leading-[1.15] max-w-[900px] mb-12">
      When and how does this continuum<br/>
      become experientially explicit?
    </h2>
    
    <div class="max-w-[900px] text-base lg:text-[22px] leading-[1.3] font-semibold space-y-6">
      <p>
        We can think of the continuum as a space to read, treat as both curriculum and co-learner, 
        linking environmental justice, transformation at a level "the thinking of the continuum" as a 
        space to read.
      </p>
    </div>
  </section>

  <!-- CCF Framework Section -->
  <section class="px-6 lg:px-24 py-12 lg:py-20">
    <div class="flex flex-col lg:flex-row gap-12 lg:gap-24">
      <div class="lg:w-1/2">
        <h2 class="font-black text-2xl lg:text-[40px] leading-[1.15]">
          The Continuum Connection Framework (CCF) is a way to name and observe what happens in these practices trying to see whether somatic dramaturgies actually change how representers feel self–world–MOTH relations.
        </h2>
      </div>
      
      <div class="lg:w-1/2">
        <h3 class="text-xl lg:text-[32px] font-semibold mb-8">Dimensions of the "Continuum Connection"</h3>
        
        <div class="space-y-6">
          <div>
            <h4 class="text-base lg:text-[20px] font-semibold mb-2">Embodied Presence / Interoception</h4>
            <p class="text-sm lg:text-[16px] leading-[1.4] font-semibold opacity-70 pl-4 border-l-2 border-charcoal/30">
              This dimension resonates with interoceptive awareness research, but for us it is also pedagogical: practices like frame-drum work, Greek chorus, Grotowski-inspired exercises are deliberate techniques to expand this capacity.
            </p>
          </div>
          
          <div>
            <h4 class="text-base lg:text-[20px] font-semibold">Boundary / Threshold Experience</h4>
          </div>
          
          <div>
            <h4 class="text-base lg:text-[20px] font-semibold">More-than-Human Relatedness</h4>
          </div>
          
          <div>
            <h4 class="text-base lg:text-[20px] font-semibold">Collective Field / Communitas</h4>
          </div>
          
          <div>
            <h4 class="text-base lg:text-[20px] font-semibold">Integration & Ethical Orientation</h4>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CAI Chat Interface Section -->
  <section id="chat-section" class="px-6 lg:px-24 py-12 lg:py-20">
    <div class="max-w-[900px] mx-auto">
      <h2 class="font-black text-4xl lg:text-[60px] leading-[1.1] mb-4 text-center">CAI</h2>
      <p class="text-base lg:text-[20px] font-semibold text-center mb-10 opacity-70">
        Continuum AI - your guide through the research
      </p>
      
      <!-- Chat Interface -->
      <div class="border-2 border-charcoal rounded-lg overflow-hidden bg-cream/80 backdrop-blur-sm">
        <!-- Chat Messages Area -->
        <div class="h-[350px] p-6 overflow-y-auto" id="chat-messages">
          <div class="space-y-4">
            <div class="flex justify-start">
              <div class="bg-charcoal text-cream px-4 py-3 rounded-lg max-w-[80%]">
                <p class="font-semibold text-sm">
                  Welcome. I can help you navigate this research on design for the continuum, 
                  somatic dramaturgies, and more-than-human relations. What would you like to explore?
                </p>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Chat Input -->
        <div class="border-t-2 border-charcoal p-4 bg-white/90">
          <form class="flex gap-4" id="chat-form">
            <input 
              type="text" 
              placeholder="Ask about the research..."
              class="flex-1 px-4 py-3 border-2 border-charcoal rounded-lg font-semibold text-base focus:outline-none focus:border-pink bg-white"
              id="chat-input"
            />
            <button 
              type="submit"
              class="px-8 py-3 bg-charcoal text-cream font-semibold rounded-lg hover:bg-pink transition-colors"
            >
              Send
            </button>
          </form>
        </div>
      </div>
      
      <!-- Suggested Topics -->
      <div class="mt-8">
        <p class="text-sm font-semibold mb-4 opacity-70">Suggested topics:</p>
        <div class="flex flex-wrap gap-3">
          <button class="px-4 py-2 border-2 border-charcoal rounded-full text-sm font-semibold hover:bg-charcoal hover:text-cream transition-colors bg-cream/80">
            What is the continuum?
          </button>
          <button class="px-4 py-2 border-2 border-charcoal rounded-full text-sm font-semibold hover:bg-charcoal hover:text-cream transition-colors bg-cream/80">
            Explain re-enchantment
          </button>
          <button class="px-4 py-2 border-2 border-charcoal rounded-full text-sm font-semibold hover:bg-charcoal hover:text-cream transition-colors bg-cream/80">
            What are somatic dramaturgies?
          </button>
          <button class="px-4 py-2 border-2 border-charcoal rounded-full text-sm font-semibold hover:bg-charcoal hover:text-cream transition-colors bg-cream/80">
            MOTH representation
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Floating AI Input (hides when chat section is visible) -->
  <div id="floating-input" class="fixed bottom-0 left-0 right-0 z-50 p-4 lg:p-6 pointer-events-none transition-all duration-300">
    <button 
      onclick="document.getElementById('chat-section').scrollIntoView({ behavior: 'smooth' }); document.getElementById('chat-input').focus();"
      class="block max-w-[700px] mx-auto pointer-events-auto w-full"
    >
      <div class="flex gap-4 p-4 bg-white/90 backdrop-blur-sm border-2 border-charcoal rounded-lg shadow-lg">
        <div class="flex-1 px-4 py-3 border-2 border-charcoal rounded-lg font-semibold text-base text-charcoal/50 bg-white text-left">
          Ask about the research...
        </div>
        <div class="px-8 py-3 bg-charcoal text-cream font-semibold rounded-lg hover:bg-pink transition-colors flex items-center">
          Ask CAI
        </div>
      </div>
    </button>
  </div>
</Layout>

<style>
  .cai-gradient-bg {
    background: 
      linear-gradient(135deg, transparent 40%, rgba(0, 255, 200, 0.3) 50%, transparent 60%),
      linear-gradient(225deg, transparent 30%, rgba(0, 255, 100, 0.4) 45%, transparent 60%),
      linear-gradient(315deg, transparent 50%, rgba(255, 100, 200, 0.3) 65%, transparent 80%),
      linear-gradient(45deg, transparent 60%, rgba(0, 220, 255, 0.25) 75%, transparent 90%);
    background-color: #f5f0eb;
  }
</style>

<script>
  // Simple chat interaction (placeholder - can be connected to actual AI)
  const form = document.getElementById('chat-form');
  const input = document.getElementById('chat-input') as HTMLInputElement;
  const messages = document.getElementById('chat-messages');
  
  form?.addEventListener('submit', (e) => {
    e.preventDefault();
    const text = input?.value.trim();
    if (!text) return;
    
    // Add user message
    const userMsg = document.createElement('div');
    userMsg.className = 'flex justify-end';
    userMsg.innerHTML = `
      <div class="bg-pink text-charcoal px-4 py-3 rounded-lg max-w-[80%]">
        <p class="font-semibold text-sm">${text}</p>
      </div>
    `;
    messages?.querySelector('.space-y-4')?.appendChild(userMsg);
    
    // Add placeholder AI response
    setTimeout(() => {
      const aiMsg = document.createElement('div');
      aiMsg.className = 'flex justify-start';
      aiMsg.innerHTML = `
        <div class="bg-charcoal text-cream px-4 py-3 rounded-lg max-w-[80%]">
          <p class="font-semibold text-sm">
            This is a placeholder response. In a full implementation, this would connect to an AI 
            trained on the research content to provide meaningful answers about the continuum, 
            ecopedagogy, and more-than-human relations.
          </p>
        </div>
      `;
      messages?.querySelector('.space-y-4')?.appendChild(aiMsg);
      messages?.scrollTo(0, messages.scrollHeight);
    }, 500);
    
    if (input) input.value = '';
    messages?.scrollTo(0, messages.scrollHeight);
  });
  
  // Suggested topic buttons
  document.querySelectorAll('button[class*="border-charcoal rounded-full"]').forEach(btn => {
    btn.addEventListener('click', () => {
      if (input) {
        input.value = btn.textContent?.trim() || '';
        input.focus();
      }
    });
  });

  // Hide floating input when chat section is visible
  const floatingInput = document.getElementById('floating-input');
  const chatSection = document.getElementById('chat-section');
  
  if (floatingInput && chatSection) {
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            floatingInput.style.opacity = '0';
            floatingInput.style.pointerEvents = 'none';
          } else {
            floatingInput.style.opacity = '1';
            floatingInput.style.pointerEvents = 'auto';
          }
        });
      },
      { threshold: 0.1 }
    );
    observer.observe(chatSection);
  }
</script>
