---
interface Props {
  staticPosition?: boolean;
}

const { staticPosition = false } = Astro.props;

// Marquee footer with repeating text
const text =
  "Design for the continuum: can we speak with the more-than-human? Cuerpo-territorio + Tout-monde + Sentipensar + Cosmological perspectivism";
---

<footer
  class:list={[
    staticPosition ? "relative" : "fixed bottom-0 left-0 right-0",
    "z-40 bg-charcoal text-cream overflow-hidden",
  ]}
>
  <div
    class="footer-marquee flex items-center"
    style="height: var(--bar-height, 52px); min-height: var(--bar-height, 52px);"
  >
    <div class="marquee-animation whitespace-nowrap flex">
      <!-- Repeat text many times for seamless loop -->
      {
        Array(6)
          .fill(null)
          .map(() => (
            <span class="text-4xl lg:text-6xl font-semibold px-48">{text}</span>
          ))
      }
    </div>
  </div>
</footer>

<style>
  .marquee-animation {
    animation: marquee 40s linear infinite;
  }

  @keyframes marquee {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  .marquee-animation:hover {
    animation-play-state: paused;
  }

  .footer-marquee {
    height: var(--bar-height, 52px);
    min-height: var(--bar-height, 52px);
  }
</style>
