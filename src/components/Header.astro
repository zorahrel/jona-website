---
interface Props {
  activePage?: 'abstract' | 'framing' | 'research-log' | 'database' | 'cai';
}

const { activePage = 'abstract' } = Astro.props;

const navItems = [
  { id: 'abstract', label: 'abstract', href: '/' },
  { id: 'framing', label: 'framing', href: '/framing' },
  { id: 'research-log', label: 'research log', href: '/research-log' },
  { id: 'database', label: 'database', href: '/database' },
  { id: 'cai', label: 'CAI', href: '/cai' },
];
---

<header class="sticky top-0 z-50 bg-cream">
  <div class="px-6 lg:px-24 py-3 flex items-center justify-between">
    <!-- Main Navigation -->
    <nav class="flex items-center gap-4 lg:gap-6">
      {navItems.map((item) => (
        <a 
          href={item.href}
          class:list={[
            "text-base lg:text-lg leading-tight transition-colors duration-200",
            item.id === activePage 
              ? "font-serif italic" 
              : "font-semibold hover:text-pink"
          ]}
        >
          {item.label}
        </a>
      ))}
    </nav>

    <!-- Secondary Navigation -->
    <div class="hidden lg:flex items-center">
      <a 
        href="/about-me" 
        class="px-6 py-2 bg-charcoal text-cream text-base font-semibold transition-all duration-200 hover:bg-pink min-w-[140px] text-center"
      >
        about me
      </a>
      <a 
        href="/about-you" 
        class="px-6 py-2 bg-cream text-charcoal text-base font-semibold border border-charcoal transition-all duration-200 hover:bg-charcoal hover:text-cream min-w-[140px] text-center"
      >
        about you
      </a>
    </div>

    <!-- Mobile menu button -->
    <button 
      class="lg:hidden p-2 text-charcoal"
      aria-label="Toggle menu"
      id="mobile-menu-btn"
    >
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
  </div>

  <!-- Mobile menu -->
  <div class="hidden lg:hidden border-t border-charcoal/10" id="mobile-menu">
    <div class="px-6 py-4 flex flex-wrap gap-4">
      {navItems.map((item) => (
        <a 
          href={item.href}
          class:list={[
            "text-sm transition-colors duration-200",
            item.id === activePage 
              ? "font-serif italic" 
              : "font-semibold hover:text-pink"
          ]}
        >
          {item.label}
        </a>
      ))}
    </div>
    <div class="px-6 pb-4 flex gap-2">
      <a href="/about-me" class="flex-1 px-4 py-2 bg-pink text-cream text-center text-sm font-semibold">about me</a>
      <a href="/about-you" class="flex-1 px-4 py-2 border border-charcoal/20 text-charcoal text-center text-sm font-semibold">about you</a>
    </div>
  </div>
</header>

<script>
  const btn = document.getElementById('mobile-menu-btn');
  const menu = document.getElementById('mobile-menu');
  
  btn?.addEventListener('click', () => {
    menu?.classList.toggle('hidden');
  });
</script>
